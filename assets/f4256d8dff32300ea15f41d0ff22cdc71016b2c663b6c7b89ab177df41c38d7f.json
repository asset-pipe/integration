[
{"id":"1892a34e5d6b4ed6f915a394a6edd0a10cae9cfcc462d96105af4532898b7521","source":"\"use strict\";\nvar types_1 = require('../types');\nfunction push(entry) {\n    if (!window[types_1.WINDOW_KEY]) {\n        window[types_1.WINDOW_KEY] = [];\n    }\n    return window[types_1.WINDOW_KEY].push(entry);\n}\n;\nfunction getContextConfig(key, value) {\n    if (typeof key === 'object') {\n        return key;\n    }\n    return (_a = {}, _a[key] = value, _a);\n    var _a;\n}\nexports.__esModule = true;\nexports[\"default\"] = {\n    trackPage: trackPage,\n    trackEvent: trackEvent,\n    trackEventLater: trackEventLater,\n    setPageContext: setPageContext,\n    getApi: getApi\n};\nfunction trackPage(config) {\n    return push([types_1.PAGE, config]);\n}\nexports.trackPage = trackPage;\n;\nfunction trackEvent(config) {\n    return push([types_1.EVENT, config]);\n}\nexports.trackEvent = trackEvent;\n;\nfunction trackEventLater(config) {\n    return push([types_1.EVENT_LATER, config]);\n}\nexports.trackEventLater = trackEventLater;\n;\nfunction setPageContext(key, value) {\n    return push([types_1.CONFIG, getContextConfig(key, value)]);\n}\nexports.setPageContext = setPageContext;\n;\nfunction getApi(callback) {\n    return push([types_1.GET_API, callback]);\n}\nexports.getApi = getApi;\n;\nfunction _getBeacons() {\n    return window[types_1.WINDOW_KEY];\n}\nexports._getBeacons = _getBeacons;\n;\n//# sourceMappingURL=index.js.map","deps":{"../types":"666a79f70f79475f4f34b8ad874671992c0eaa51c6d5eeee28b38597d00cb5bf"},"file":"/home/node/src/node_modules/@finn-no/analytics/lib/client/index.js","index":1,"indexDeps":{"../types":2}}
,
{"id":"666a79f70f79475f4f34b8ad874671992c0eaa51c6d5eeee28b38597d00cb5bf","source":"\"use strict\";\nexports.WINDOW_KEY = '__analyticsQueue';\nexports.EVENT = 'event';\nexports.PAGE = 'page';\nexports.CONFIG = 'config';\nexports.EVENT_LATER = 'event-later';\nexports.GET_API = 'get-api';\n//# sourceMappingURL=types.js.map","deps":{},"file":"/home/node/src/node_modules/@finn-no/analytics/lib/types.js","index":2,"indexDeps":{}}
,
{"id":"763e82e214e1d0d167e05fa0d8e4eb878f45f1fcfc22ca65d5990ceaf4eed61a","source":"'use strict';\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar index = createCommonjsModule(function (module, exports) {\n'use strict';\n\nexports.escape = function (input) {\n\treturn input.replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n};\n\nexports.unescape = function (input) {\n\treturn input.replace(/&gt;/g, '>').replace(/&lt;/g, '<').replace(/&#39;/g, '\\'').replace(/&quot;/g, '\"').replace(/&amp;/g, '&');\n};\n\nexports.escapeTag = function (input) {\n\tvar output = input[0];\n\tfor (var i = 1; i < arguments.length; i++) {\n\t\toutput = output + exports.escape(arguments[i]) + input[i];\n\t}\n\treturn output;\n};\n\nexports.unescapeTag = function (input) {\n\tvar output = input[0];\n\tfor (var i = 1; i < arguments.length; i++) {\n\t\toutput = output + exports.unescape(arguments[i]) + input[i];\n\t}\n\treturn output;\n};\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\n/**\n * Create an element.\n *\n * @param {boolean} safeContent If content is safe to fully unescape\n * @param {String} name The element type name, plus optional classes\n * @param {Object} attributes The element's attributes\n * @param {...any} content The element's content\n */\nfunction createElement(safeContent, name, attributes) {\n    if (typeof name != 'string') {\n        throw new TypeError('The name argument must be a string');\n    }\n\n    var defaultNamespace = document.documentElement.namespaceURI;\n\n    // Handle class names shortcut\n\n    var _name$split = name.split('.'),\n        _name$split2 = _toArray(_name$split),\n        qName = _name$split2[0],\n        classes = _name$split2.slice(1);\n\n    var _getNamespaceParts = getNamespaceParts(qName),\n        _getNamespaceParts$na = _getNamespaceParts.namespace,\n        namespace = _getNamespaceParts$na === undefined ? defaultNamespace : _getNamespaceParts$na,\n        localName = _getNamespaceParts.localName;\n\n    var ele = document.createElementNS(namespace, localName);\n\n    if (classes.length) {\n        var _ele$classList;\n\n        (_ele$classList = ele.classList).add.apply(_ele$classList, _toConsumableArray(classes));\n    }\n\n    if (attributes != null) {\n        if ((typeof attributes === 'undefined' ? 'undefined' : _typeof(attributes)) != 'object') {\n            throw new TypeError('The attributes argument must be an object');\n        }\n\n        if (attributes instanceof Node) {\n            throw new TypeError('The attributes argument cannot be a Node. Did you forget to pass attributes?');\n        }\n\n        Object.entries(attributes).forEach(function (_ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n                qName = _ref2[0],\n                value = _ref2[1];\n\n            if (value !== null && value !== false) {\n                if (value === true) {\n                    value = ''; // Treat as boolean attribute\n                }\n\n                var _getNamespaceParts2 = getNamespaceParts(qName),\n                    _namespace = _getNamespaceParts2.namespace,\n                    _localName = _getNamespaceParts2.localName;\n\n                if (_localName.startsWith('on') && typeof value == 'function') {\n                    ele.addEventListener(_localName.slice(2), value);\n                    return;\n                }\n\n                // setAttributeNS() with the HTML namespace doesn't set IDL attributes\n                if (_namespace) {\n                    ele.setAttributeNS(_namespace, _localName, value);\n                } else {\n                    ele.setAttribute(_localName, value);\n                }\n            }\n        });\n    }\n\n    for (var _len = arguments.length, content = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n        content[_key - 3] = arguments[_key];\n    }\n\n    content.filter(function (value) {\n        return value !== null;\n    }).reduce(function (prev, curr) {\n        return prev.concat(curr);\n    }, []) // flatten\n    .forEach(function (value) {\n        return ele.appendChild(toNode(value));\n    });\n    ele.normalize();\n\n    function toNode(value) {\n        switch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n            case 'boolean':\n            case 'number':\n                return document.createTextNode(value.toString());\n            case 'string':\n                value = handleEscapedChars(value);\n                return document.createTextNode(value.toString());\n\n            case 'undefined':\n                return document.createTextNode('undefined');\n\n            default:\n                if (value instanceof Node) {\n                    return value;\n                }\n        }\n\n        throw new TypeError('Argument of type \\'' + (typeof value === 'undefined' ? 'undefined' : _typeof(value)) + '\\' cannot be used as content.');\n    }\n\n    function handleEscapedChars(v) {\n        var regExpInEscapedChar = /&#.*;/;\n        if (safeContent && regExpInEscapedChar.test(v)) {\n            var tmpEle = document.createElement('span');\n            tmpEle.innerHTML = v;\n            return tmpEle.textContent;\n        } else {\n            return index.unescape(v);\n        }\n    }\n\n    function getNamespace(prefix) {\n        switch (prefix) {\n            case 'html':\n                return 'http://www.w3.org/1999/xhtml';\n            case 'svg':\n                return 'http://www.w3.org/2000/svg';\n            case 'xlink':\n                return 'http://www.w3.org/1999/xlink';\n        }\n    }\n\n    function getNamespaceParts(qName) {\n        if (qName.indexOf(':') !== -1) {\n            var _qName$split = qName.split(':'),\n                _qName$split2 = _slicedToArray(_qName$split, 2),\n                prefix = _qName$split2[0],\n                _localName2 = _qName$split2[1];\n\n            var _namespace2 = getNamespace(prefix);\n            if (!_namespace2) {\n                throw Error('No namespace found for prefix \"' + prefix + '\"');\n            }\n            return { namespace: _namespace2, localName: _localName2 };\n        }\n\n        return { localName: qName };\n    }\n    return ele;\n}\n\n/* eslint-env node */\nmodule.exports = createElement.bind(null, false);\n// only use createElementFromSafeContent when content is from a secure source\nmodule.exports.createElementFromSafeContent = createElement.bind(null, true);\n//# sourceMappingURL=index.js.map\n","deps":{},"file":"/home/node/src/node_modules/@finn-no/create-element/index.js","index":3,"indexDeps":{}}
,
{"id":"81be46a7d42e3879307ccb9eb181627735cc2b06f7982c3bae44b6fb3741afa4","source":"/*!\n  * domready (c) Dustin Diaz 2014 - License MIT\n  */\n!function (name, definition) {\n\n  if (typeof module != 'undefined') module.exports = definition()\n  else if (typeof define == 'function' && typeof define.amd == 'object') define(definition)\n  else this[name] = definition()\n\n}('domready', function () {\n\n  var fns = [], listener\n    , doc = document\n    , hack = doc.documentElement.doScroll\n    , domContentLoaded = 'DOMContentLoaded'\n    , loaded = (hack ? /^loaded|^c/ : /^loaded|^i|^c/).test(doc.readyState)\n\n\n  if (!loaded)\n  doc.addEventListener(domContentLoaded, listener = function () {\n    doc.removeEventListener(domContentLoaded, listener)\n    loaded = 1\n    while (listener = fns.shift()) listener()\n  })\n\n  return function (fn) {\n    loaded ? setTimeout(fn, 0) : fns.push(fn)\n  }\n\n});\n","deps":{},"file":"/home/node/src/node_modules/domready/ready.js","index":4,"indexDeps":{}}
,
{"entry":true,"expose":false,"file":"/home/node/src/routes/podlet-user-searches/lib/client/index.js","id":"8520cff679dff09118be7872117dc5c5bad5baed303245fc8aea8992126de1a5","order":0,"source":"'use strict';\n\nvar domready = require('domready');\nvar lastSearches = require('./last-searches.js');\nvar savedSearches = require('./saved-searches.js');\n\nfunction ifId(id, fn) {\n    var el = document.getElementById(id);\n    if (el) {\n        fn(el);\n    }\n}\n\ndomready(function () {\n    ifId('last-searches', lastSearches);\n    ifId('saved-searches', savedSearches);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRvbXJlYWR5IiwicmVxdWlyZSIsImxhc3RTZWFyY2hlcyIsInNhdmVkU2VhcmNoZXMiLCJpZklkIiwiaWQiLCJmbiIsImVsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBTUEsV0FBV0MsUUFBUSxVQUFSLENBQWpCO0FBQ0EsSUFBTUMsZUFBZUQsUUFBUSxvQkFBUixDQUFyQjtBQUNBLElBQU1FLGdCQUFnQkYsUUFBUSxxQkFBUixDQUF0Qjs7QUFFQSxTQUFTRyxJQUFULENBQWNDLEVBQWQsRUFBa0JDLEVBQWxCLEVBQXNCO0FBQ2xCLFFBQU1DLEtBQUtDLFNBQVNDLGNBQVQsQ0FBd0JKLEVBQXhCLENBQVg7QUFDQSxRQUFJRSxFQUFKLEVBQVE7QUFDSkQsV0FBR0MsRUFBSDtBQUNIO0FBQ0o7O0FBRURQLFNBQVMsWUFBTTtBQUNYSSxTQUFLLGVBQUwsRUFBc0JGLFlBQXRCO0FBQ0FFLFNBQUssZ0JBQUwsRUFBdUJELGFBQXZCO0FBQ0gsQ0FIRCIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZG9tcmVhZHkgPSByZXF1aXJlKCdkb21yZWFkeScpO1xuY29uc3QgbGFzdFNlYXJjaGVzID0gcmVxdWlyZSgnLi9sYXN0LXNlYXJjaGVzLmpzJyk7XG5jb25zdCBzYXZlZFNlYXJjaGVzID0gcmVxdWlyZSgnLi9zYXZlZC1zZWFyY2hlcy5qcycpO1xuXG5mdW5jdGlvbiBpZklkKGlkLCBmbikge1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGlmIChlbCkge1xuICAgICAgICBmbihlbCk7XG4gICAgfVxufVxuXG5kb21yZWFkeSgoKSA9PiB7XG4gICAgaWZJZCgnbGFzdC1zZWFyY2hlcycsIGxhc3RTZWFyY2hlcyk7XG4gICAgaWZJZCgnc2F2ZWQtc2VhcmNoZXMnLCBzYXZlZFNlYXJjaGVzKTtcbn0pO1xuIl19","deps":{"domready":"81be46a7d42e3879307ccb9eb181627735cc2b06f7982c3bae44b6fb3741afa4","./last-searches.js":"94713835e2bf248a47518554f696a071eb220fd7ebf9b0b932ae080fb3b17102","./saved-searches.js":"5eee1457fe101ab884147a4125c876f7386bb6c104bfb274f5e355d7eeb5dc2e"},"index":5,"indexDeps":{"domready":4,"./last-searches.js":6,"./saved-searches.js":7}}
,
{"id":"94713835e2bf248a47518554f696a071eb220fd7ebf9b0b932ae080fb3b17102","source":"'use strict';\n\n/* eslint-env browser */\n\nvar el = require('@finn-no/create-element');\nvar tracking = require('@finn-no/analytics');\n\n// const trackJsIfAvailable = require('../../trackjs-wrapper');\nvar trackJsIfAvailable = console.error.bind(console);\n\nfunction lastSearchesBox(ele) {\n    var state = {\n        resourceMountPath: ele.getAttribute('data-base-resource-url') || '',\n        maxItemsToShow: 5,\n        items: [],\n        status: 'loading' // loading | loaded | errored | unauthorized | cleared\n    };\n\n    init();\n\n    function update() {\n        var newEle = null;\n        switch (state.status) {\n            case 'loading':\n                break; // dom starts in this state. no need to render\n            case 'loaded':\n            case 'cleared':\n                newEle = listView(state, clearLastSearches);\n                break;\n            case 'unauthorized':\n                newEle = notLoggedInView();\n                break;\n            case 'errored':\n            default:\n                newEle = errorView();\n                break;\n        }\n        if (newEle) {\n            ele.parentNode.replaceChild(newEle, ele);\n            ele = newEle;\n        }\n    }\n\n    function clearLastSearches(evt) {\n        state.status = 'cleared';\n        evt.preventDefault();\n        window.fetch(state.resourceMountPath + '/last-searches', {\n            method: 'DELETE',\n            credentials: 'include'\n        }).catch(trackJsIfAvailable);\n        update();\n    }\n\n    function init() {\n        update();\n        window.fetch(state.resourceMountPath + '/last-searches', {\n            credentials: 'include'\n        }).then(function (res) {\n            return updateStateFromResponse(state, res);\n        }).then(function (newState) {\n            state = newState;\n        }).catch(function (err) {\n            trackJsIfAvailable(err);\n            state = Object.assign({}, state, { status: 'errored' });\n        }).then(update);\n    }\n}\n\nfunction updateStateFromResponse(oldState, response) {\n    if (response.ok) {\n        return response.json().then(function (items) {\n            return Object.assign({}, oldState, { items: items, status: 'loaded' });\n        });\n    } else if (response.status === 401) {\n        return Object.assign({}, oldState, { status: 'unauthorized' });\n    } else {\n        return Object.assign({}, oldState, { status: 'errored' });\n    }\n}\n\nfunction notLoggedInView() {\n    return el('p', null, 'Hvis du logger inn vil dine siste søk dukke opp her.');\n}\n\nfunction errorView() {\n    return el('p', null, 'For øyeblikket klarte vi ikke å hente dine siste søk');\n}\n\nfunction listView(state, clearCallback) {\n    if (state.status === 'cleared' || state.items.length === 0) {\n        return el('p', { tabindex: '-1' }, 'Etter hvert som du gjør søk på FINN vil de dukke opp her.');\n    } else {\n        return el('div', null, el('ol', null, state.items.slice(0, state.maxItemsToShow).map(listItem)), el('div.rightify', null, el('button.b1.blank.r-phl', { type: 'button', onclick: clearCallback }, 'Tøm lista')));\n    }\n}\n\nfunction trackItemClick() {\n    tracking.trackEventLater({\n        analyticsName: 'search.repeat-recent-search.click',\n        ecType: 'SEARCH',\n        ecCategory: 'FrontpageLastSearchesClick'\n    });\n}\n\nfunction listItem(_ref) {\n    var title = _ref.title,\n        url = _ref.url;\n\n    return el('li', null, el('a.truncate.blockify.pvs', { href: url, onclick: trackItemClick }, title));\n}\n\nmodule.exports = lastSearchesBox;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhc3Qtc2VhcmNoZXMuanMiXSwibmFtZXMiOlsiZWwiLCJyZXF1aXJlIiwidHJhY2tpbmciLCJ0cmFja0pzSWZBdmFpbGFibGUiLCJjb25zb2xlIiwiZXJyb3IiLCJiaW5kIiwibGFzdFNlYXJjaGVzQm94IiwiZWxlIiwic3RhdGUiLCJyZXNvdXJjZU1vdW50UGF0aCIsImdldEF0dHJpYnV0ZSIsIm1heEl0ZW1zVG9TaG93IiwiaXRlbXMiLCJzdGF0dXMiLCJpbml0IiwidXBkYXRlIiwibmV3RWxlIiwibGlzdFZpZXciLCJjbGVhckxhc3RTZWFyY2hlcyIsIm5vdExvZ2dlZEluVmlldyIsImVycm9yVmlldyIsInBhcmVudE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIndpbmRvdyIsImZldGNoIiwibWV0aG9kIiwiY3JlZGVudGlhbHMiLCJjYXRjaCIsInRoZW4iLCJ1cGRhdGVTdGF0ZUZyb21SZXNwb25zZSIsInJlcyIsIm5ld1N0YXRlIiwiZXJyIiwiT2JqZWN0IiwiYXNzaWduIiwib2xkU3RhdGUiLCJyZXNwb25zZSIsIm9rIiwianNvbiIsImNsZWFyQ2FsbGJhY2siLCJsZW5ndGgiLCJ0YWJpbmRleCIsInNsaWNlIiwibWFwIiwibGlzdEl0ZW0iLCJ0eXBlIiwib25jbGljayIsInRyYWNrSXRlbUNsaWNrIiwidHJhY2tFdmVudExhdGVyIiwiYW5hbHl0aWNzTmFtZSIsImVjVHlwZSIsImVjQ2F0ZWdvcnkiLCJ0aXRsZSIsInVybCIsImhyZWYiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTs7QUFFQSxJQUFNQSxLQUFLQyxRQUFRLHlCQUFSLENBQVg7QUFDQSxJQUFNQyxXQUFXRCxRQUFRLG9CQUFSLENBQWpCOztBQUVBO0FBQ0EsSUFBTUUscUJBQXFCQyxRQUFRQyxLQUFSLENBQWNDLElBQWQsQ0FBbUJGLE9BQW5CLENBQTNCOztBQUVBLFNBQVNHLGVBQVQsQ0FBeUJDLEdBQXpCLEVB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SyxNQUFOLEtBQWlCLFNBQWpCLElBQThCTCxNQUFNSSxLQUFOLENBQVk4QixNQUFaLEtBQXVCLENBQXpELEVBQTREO0FBQ3hELGVBQU8zQyxHQUNILEdBREcsRUFFSCxFQUFFNEMsVUFBVSxJQUFaLEVBRkcsRUFHSCwyREFIRyxDQUFQO0FBS0gsS0FORCxNQU1PO0FBQ0gsZUFBTzVDLEdBQ0gsS0FERyxFQUVILElBRkcsRUFHSEEsR0FDSSxJQURKLEVBRUksSUFGSixFQUdJUyxNQUFNSSxLQUFOLENBQVlnQyxLQUFaLENBQWtCLENBQWxCLEVBQXFCcEMsTUFBTUcsY0FBM0IsRUFBMkNrQyxHQUEzQyxDQUErQ0MsUUFBL0MsQ0FISixDQUhHLEVBUUgvQyxHQUNJLGNBREosRUFFSSxJQUZKLEVBR0lBLEdBQ0ksdUJBREosRUFFSSxFQUFFZ0QsTUFBTSxRQUFSLEVBQWtCQyxTQUFTUCxhQUEzQixFQUZKLEVBR0ksV0FISixDQUhKLENBUkcsQ0FBUDtBQWtCSDtBQUNKOztBQUVELFNBQVNRLGNBQVQsR0FBMEI7QUFDdEJoRCxhQUFTaUQsZUFBVCxDQUF5QjtBQUNyQkMsdUJBQWUsbUNBRE07QUFFckJDLGdCQUFRLFFBRmE7QUFHckJDLG9CQUFZO0FBSFMsS0FBekI7QUFLSDs7QUFFRCxTQUFTUCxRQUFULE9BQWtDO0FBQUEsUUFBZFEsS0FBYyxRQUFkQSxLQUFjO0FBQUEsUUFBUEMsR0FBTyxRQUFQQSxHQUFPOztBQUM5QixXQUFPeEQsR0FDSCxJQURHLEVBRUgsSUFGRyxFQUdIQSxHQUNJLHlCQURKLEVBRUksRUFBRXlELE1BQU1ELEdBQVIsRUFBYVAsU0FBU0MsY0FBdEIsRUFGSixFQUdJSyxLQUhKLENBSEcsQ0FBUDtBQVNIOztBQUVERyxPQUFPQyxPQUFQLEdBQWlCcEQsZUFBakIiLCJmaWxlIjoibGFzdC1zZWFyY2hlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuLyogZXNsaW50LWVudiBicm93c2VyICovXG5cbmNvbnN0IGVsID0gcmVxdWlyZSgnQGZpbm4tbm8vY3JlYXRlLWVsZW1lbnQnKTtcbmNvbnN0IHRyYWNraW5nID0gcmVxdWlyZSgnQGZpbm4tbm8vYW5hbHl0aWNzJyk7XG5cbi8vIGNvbnN0IHRyYWNrSnNJZkF2YWlsYWJsZSA9IHJlcXVpcmUoJy4uLy4uL3RyYWNranMtd3JhcHBlcicpO1xuY29uc3QgdHJhY2tKc0lmQXZhaWxhYmxlID0gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpO1xuXG5mdW5jdGlvbiBsYXN0U2VhcmNoZXNCb3goZWxlKSB7XG4gICAgbGV0IHN0YXRlID0ge1xuICAgICAgICByZXNvdXJjZU1vdW50UGF0aDogZWxlLmdldEF0dHJpYnV0ZSgnZGF0YS1iYXNlLXJlc291cmNlLXVybCcpIHx8ICcnLFxuICAgICAgICBtYXhJdGVtc1RvU2hvdzogNSxcbiAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICBzdGF0dXM6ICdsb2FkaW5nJywgLy8gbG9hZGluZyB8IGxvYWRlZCB8IGVycm9yZWQgfCB1bmF1dGhvcml6ZWQgfCBjbGVhcmVkXG4gICAgfTtcblxuICAgIGluaXQoKTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgbGV0IG5ld0VsZSA9IG51bGw7XG4gICAgICAgIHN3aXRjaCAoc3RhdGUuc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlICdsb2FkaW5nJzpcbiAgICAgICAgICAgICAgICBicmVhazsgLy8gZG9tIHN0YXJ0cyBpbiB0aGlzIHN0YXRlLiBubyBuZWVkIHRvIHJlbmRlclxuICAgICAgICAgICAgY2FzZSAnbG9hZGVkJzpcbiAgICAgICAgICAgIGNhc2UgJ2NsZWFyZWQnOlxuICAgICAgICAgICAgICAgIG5ld0VsZSA9IGxpc3RWaWV3KHN0YXRlLCBjbGVhckxhc3RTZWFyY2hlcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd1bmF1dGhvcml6ZWQnOlxuICAgICAgICAgICAgICAgIG5ld0VsZSA9IG5vdExvZ2dlZEluVmlldygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZXJyb3JlZCc6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG5ld0VsZSA9IGVycm9yVmlldygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdFbGUpIHtcbiAgICAgICAgICAgIGVsZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdFbGUsIGVsZSk7XG4gICAgICAgICAgICBlbGUgPSBuZXdFbGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhckxhc3RTZWFyY2hlcyhldnQpIHtcbiAgICAgICAgc3RhdGUuc3RhdHVzID0gJ2NsZWFyZWQnO1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgd2luZG93XG4gICAgICAgICAgICAuZmV0Y2goYCR7c3RhdGUucmVzb3VyY2VNb3VudFBhdGh9L2xhc3Qtc2VhcmNoZXNgLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCh0cmFja0pzSWZBdmFpbGFibGUpO1xuICAgICAgICB1cGRhdGUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgd2luZG93XG4gICAgICAgICAgICAuZmV0Y2goYCR7c3RhdGUucmVzb3VyY2VNb3VudFBhdGh9L2xhc3Qtc2VhcmNoZXNgLCB7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdpbmNsdWRlJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihyZXMgPT4gdXBkYXRlU3RhdGVGcm9tUmVzcG9uc2Uoc3RhdGUsIHJlcykpXG4gICAgICAgICAgICAudGhlbihuZXdTdGF0ZSA9PiB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICB0cmFja0pzSWZBdmFpbGFibGUoZXJyKTtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCB7IHN0YXR1czogJ2Vycm9yZWQnIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHVwZGF0ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVTdGF0ZUZyb21SZXNwb25zZShvbGRTdGF0ZSwgcmVzcG9uc2UpIHtcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlXG4gICAgICAgICAgICAuanNvbigpXG4gICAgICAgICAgICAudGhlbihpdGVtcyA9PlxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIG9sZFN0YXRlLCB7IGl0ZW1zLCBzdGF0dXM6ICdsb2FkZWQnIH0pXG4gICAgICAgICAgICApO1xuICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG9sZFN0YXRlLCB7IHN0YXR1czogJ3VuYXV0aG9yaXplZCcgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIG9sZFN0YXRlLCB7IHN0YXR1czogJ2Vycm9yZWQnIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbm90TG9nZ2VkSW5WaWV3KCkge1xuICAgIHJldHVybiBlbChcbiAgICAgICAgJ3AnLFxuICAgICAgICBudWxsLFxuICAgICAgICAnSHZpcyBkdSBsb2dnZXIgaW5uIHZpbCBkaW5lIHNpc3RlIHPDuGsgZHVra2Ugb3BwIGhlci4nXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gZXJyb3JWaWV3KCkge1xuICAgIHJldHVybiBlbChcbiAgICAgICAgJ3AnLFxuICAgICAgICBudWxsLFxuICAgICAgICAnRm9yIMO4eWVibGlra2V0IGtsYXJ0ZSB2aSBpa2tlIMOlIGhlbnRlIGRpbmUgc2lzdGUgc8O4aydcbiAgICApO1xufVxuXG5mdW5jdGlvbiBsaXN0VmlldyhzdGF0ZSwgY2xlYXJDYWxsYmFjaykge1xuICAgIGlmIChzdGF0ZS5zdGF0dXMgPT09ICdjbGVhcmVkJyB8fCBzdGF0ZS5pdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGVsKFxuICAgICAgICAgICAgJ3AnLFxuICAgICAgICAgICAgeyB0YWJpbmRleDogJy0xJyB9LFxuICAgICAgICAgICAgJ0V0dGVyIGh2ZXJ0IHNvbSBkdSBnasO4ciBzw7hrIHDDpSBGSU5OIHZpbCBkZSBkdWtrZSBvcHAgaGVyLidcbiAgICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZWwoXG4gICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBlbChcbiAgICAgICAgICAgICAgICAnb2wnLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgc3RhdGUuaXRlbXMuc2xpY2UoMCwgc3RhdGUubWF4SXRlbXNUb1Nob3cpLm1hcChsaXN0SXRlbSlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBlbChcbiAgICAgICAgICAgICAgICAnZGl2LnJpZ2h0aWZ5JyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGVsKFxuICAgICAgICAgICAgICAgICAgICAnYnV0dG9uLmIxLmJsYW5rLnItcGhsJyxcbiAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiAnYnV0dG9uJywgb25jbGljazogY2xlYXJDYWxsYmFjayB9LFxuICAgICAgICAgICAgICAgICAgICAnVMO4bSBsaXN0YSdcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB0cmFja0l0ZW1DbGljaygpIHtcbiAgICB0cmFja2luZy50cmFja0V2ZW50TGF0ZXIoe1xuICAgICAgICBhbmFseXRpY3NOYW1lOiAnc2VhcmNoLnJlcGVhdC1yZWNlbnQtc2VhcmNoLmNsaWNrJyxcbiAgICAgICAgZWNUeXBlOiAnU0VBUkNIJyxcbiAgICAgICAgZWNDYXRlZ29yeTogJ0Zyb250cGFnZUxhc3RTZWFyY2hlc0NsaWNrJyxcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gbGlzdEl0ZW0oeyB0aXRsZSwgdXJsIH0pIHtcbiAgICByZXR1cm4gZWwoXG4gICAgICAgICdsaScsXG4gICAgICAgIG51bGwsXG4gICAgICAgIGVsKFxuICAgICAgICAgICAgJ2EudHJ1bmNhdGUuYmxvY2tpZnkucHZzJyxcbiAgICAgICAgICAgIHsgaHJlZjogdXJsLCBvbmNsaWNrOiB0cmFja0l0ZW1DbGljayB9LFxuICAgICAgICAgICAgdGl0bGVcbiAgICAgICAgKVxuICAgICk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGFzdFNlYXJjaGVzQm94O1xuIl19","deps":{"@finn-no/create-element":"763e82e214e1d0d167e05fa0d8e4eb878f45f1fcfc22ca65d5990ceaf4eed61a","@finn-no/analytics":"1892a34e5d6b4ed6f915a394a6edd0a10cae9cfcc462d96105af4532898b7521"},"file":"/home/node/src/routes/podlet-user-searches/lib/client/last-searches.js","index":6,"indexDeps":{"@finn-no/create-element":3,"@finn-no/analytics":1}}
,
{"id":"5eee1457fe101ab884147a4125c876f7386bb6c104bfb274f5e355d7eeb5dc2e","source":"'use strict';\n\nvar el = require('@finn-no/create-element');\nvar tracking = require('@finn-no/analytics');\n\nvar trackJsIfAvailable = console.error.bind(console);\n\nfunction initialState(ele) {\n    return {\n        resourceMountPath: ele.getAttribute('data-base-resource-url') || '',\n        maxItemsToShow: 5,\n        items: [],\n        status: 'loading' // loading | loaded | errored | unauthorized,\n    };\n}\n\nfunction savedSearchesBox(ele) {\n    var state = initialState(ele);\n\n    init();\n\n    function update() {\n        var newEle = null;\n        switch (state.status) {\n            case 'loading':\n                break;\n            case 'loaded':\n                newEle = listView(state);\n                break;\n            case 'unauthorized':\n                newEle = notLoggedInView();\n                break;\n            case 'errored':\n            default:\n                newEle = errorView();\n                break;\n        }\n        if (newEle) {\n            ele.parentNode.replaceChild(newEle, ele);\n            ele = newEle;\n        }\n    }\n\n    function init() {\n        update();\n        fetch(state.resourceMountPath + '/saved-searches', {\n            credentials: 'include'\n        }).then(function (res) {\n            return updateStateFromResponse(state, res);\n        }).then(function (newState) {\n            state = newState;\n        }).catch(function (err) {\n            trackJsIfAvailable(err);\n            state = Object.assign({}, state, { status: 'errored' });\n        }).then(update);\n    }\n}\n\nfunction updateStateFromResponse(oldState, response) {\n    if (response.ok) {\n        return response.json().then(function (e) {\n            return Object.assign({}, oldState, {\n                items: e.savedSearches.searches,\n                status: 'loaded'\n            });\n        });\n    } else if (response.status === 401) {\n        return Promise.resolve(Object.assign({}, oldState, { status: 'unauthorized' }));\n    } else {\n        try {\n            // todo: this is to make sure we don't throw, since trackJsIfAvailable\n            // will rethrow when trackjs is not available. This will be looked at\n            // more properly when adding trackjs wrapper to analytics. See\n            // https://github.schibsted.io/finn/finn-analytics-js/issues/12\n            trackJsIfAvailable(new Error('Couldn\\'t handle response status: ' + response.status));\n        } catch (err) {\n            // nothing\n        }\n        return Promise.resolve(Object.assign({}, oldState, { status: 'errored' }));\n    }\n}\n\nfunction listView(state) {\n    if (state.items.length === 0) {\n        return el('p', { tabindex: '-1' }, 'Hvis du lagrer søk vil de dukke opp her.');\n    } else {\n        return el('div', null, el('ol', null, state.items.slice(0, state.maxItemsToShow).map(listItem)), el('div.rightify', null, el('a.pam.r-phl', { href: '/user/savedsearches.html' }, 'Alle lagrede søk')));\n    }\n}\n\nfunction trackItemClick() {\n    tracking.trackEventLater({\n        analyticsName: 'search.repeat-saved-search.click',\n        ecType: 'SEARCH',\n        ecCategory: 'FrontpageSavedSearchesClick'\n    });\n}\n\nfunction listItem(_ref) {\n    var title = _ref.title,\n        url = _ref.url;\n\n    return el('li', null, el('a.truncate.blockify.pvs', { href: url, onclick: trackItemClick }, title));\n}\n\nfunction notLoggedInView() {\n    return el('p', null, 'Hvis du logger inn vil dine lagrede søk dukke opp her');\n}\n\nfunction errorView() {\n    return el('p', null, 'For øyeblikket klarte vi ikke å hente dine lagrede søk');\n}\n\nmodule.exports = savedSearchesBox;\n// visible for testing:\nmodule.exports.initialState = initialState;\nmodule.exports.updateStateFromResponse = updateStateFromResponse;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNhdmVkLXNlYXJjaGVzLmpzIl0sIm5hbWVzIjpbImVsIiwicmVxdWlyZSIsInRyYWNraW5nIiwidHJhY2tKc0lmQXZhaWxhYmxlIiwiY29uc29sZSIsImVycm9yIiwiYmluZCIsImluaXRpYWxTdGF0ZSIsImVsZSIsInJlc291cmNlTW91bnRQYXRoIiwiZ2V0QXR0cmlidXRlIiwibWF4SXRlbXNUb1Nob3ciLCJpdGVtcyIsInN0YXR1cyIsInNhdmVkU2VhcmNoZXNCb3giLCJzdGF0ZSIsImluaXQiLCJ1cGRhdGUiLCJuZXdFbGUiLCJsaXN0VmlldyIsIm5vdExvZ2dlZEluVmlldyIsImVycm9yVmlldyIsInBhcmVudE5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJmZXRjaCIsImNyZWRlbnRpYWxzIiwidGhlbiIsInVwZGF0ZVN0YXRlRnJvbVJlc3BvbnNlIiwicmVzIiwibmV3U3RhdGUiLCJjYXRjaCIsImVyciIsIk9iamVjdCIsImFzc2lnbiIsIm9sZFN0YXRlIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJlIiwic2F2ZWRTZWFyY2hlcyIsInNlYXJjaGVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJFcnJvciIsImxlbmd0aCIsInRhYmluZGV4Iiwic2xpY2UiLCJtYXAiLCJsaXN0SXRlbSIsImhyZWYiLCJ0cmFja0l0ZW1DbGljayIsInRyYWNrRXZlbnRMYXRlciIsImFuYWx5dGljc05hbWUiLCJlY1R5cGUiLCJlY0NhdGVnb3J5IiwidGl0bGUiLCJ1cmwiLCJvbmNsaWNrIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsSUFBTUEsS0FBS0MsUUFBUSx5QkFBUixDQUFYO0FBQ0EsSUFBTUMsV0FBV0QsUUFBUSxvQkFBUixDQUFqQjs7QUFFQSxJQUFNRSxxQkFBcUJDLFFBQVFDLEtBQVIsQ0FBY0MsSUFBZCxDQUFtQkYsT0FBbkIsQ0FBM0I7O0FBRUEsU0FBU0csWUFBVCxDQUFzQkMsR0FBdEIsRUFBMkI7QUFDdkIsV0FBTztBQUNI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QUFNSCxLQUFOLENBQVlrQyxLQUFaLENBQWtCLENBQWxCLEVBQXFCL0IsTUFBTUosY0FBM0IsRUFBMkNvQyxHQUEzQyxDQUErQ0MsUUFBL0MsQ0FISixDQUhHLEVBUUhoRCxHQUNJLGNBREosRUFFSSxJQUZKLEVBR0lBLEdBQ0ksYUFESixFQUVJLEVBQUVpRCxNQUFNLDBCQUFSLEVBRkosRUFHSSxrQkFISixDQUhKLENBUkcsQ0FBUDtBQWtCSDtBQUNKOztBQUVELFNBQVNDLGNBQVQsR0FBMEI7QUFDdEJoRCxhQUFTaUQsZUFBVCxDQUF5QjtBQUNyQkMsdUJBQWUsa0NBRE07QUFFckJDLGdCQUFRLFFBRmE7QUFHckJDLG9CQUFZO0FBSFMsS0FBekI7QUFLSDs7QUFFRCxTQUFTTixRQUFULE9BQWtDO0FBQUEsUUFBZE8sS0FBYyxRQUFkQSxLQUFjO0FBQUEsUUFBUEMsR0FBTyxRQUFQQSxHQUFPOztBQUM5QixXQUFPeEQsR0FDSCxJQURHLEVBRUgsSUFGRyxFQUdIQSxHQUNJLHlCQURKLEVBRUksRUFBRWlELE1BQU1PLEdBQVIsRUFBYUMsU0FBU1AsY0FBdEIsRUFGSixFQUdJSyxLQUhKLENBSEcsQ0FBUDtBQVNIOztBQUVELFNBQVNuQyxlQUFULEdBQTJCO0FBQ3ZCLFdBQU9wQixHQUNILEdBREcsRUFFSCxJQUZHLEVBR0gsdURBSEcsQ0FBUDtBQUtIOztBQUVELFNBQVNxQixTQUFULEdBQXFCO0FBQ2pCLFdBQU9yQixHQUNILEdBREcsRUFFSCxJQUZHLEVBR0gsd0RBSEcsQ0FBUDtBQUtIOztBQUVEMEQsT0FBT0MsT0FBUCxHQUFpQjdDLGdCQUFqQjtBQUNBO0FBQ0E0QyxPQUFPQyxPQUFQLENBQWVwRCxZQUFmLEdBQThCQSxZQUE5QjtBQUNBbUQsT0FBT0MsT0FBUCxDQUFlaEMsdUJBQWYsR0FBeUNBLHVCQUF6QyIsImZpbGUiOiJzYXZlZC1zZWFyY2hlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZWwgPSByZXF1aXJlKCdAZmlubi1uby9jcmVhdGUtZWxlbWVudCcpO1xuY29uc3QgdHJhY2tpbmcgPSByZXF1aXJlKCdAZmlubi1uby9hbmFseXRpY3MnKTtcblxuY29uc3QgdHJhY2tKc0lmQXZhaWxhYmxlID0gY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpO1xuXG5mdW5jdGlvbiBpbml0aWFsU3RhdGUoZWxlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVzb3VyY2VNb3VudFBhdGg6IGVsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtYmFzZS1yZXNvdXJjZS11cmwnKSB8fCAnJyxcbiAgICAgICAgbWF4SXRlbXNUb1Nob3c6IDUsXG4gICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgc3RhdHVzOiAnbG9hZGluZycsIC8vIGxvYWRpbmcgfCBsb2FkZWQgfCBlcnJvcmVkIHwgdW5hdXRob3JpemVkLFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIHNhdmVkU2VhcmNoZXNCb3goZWxlKSB7XG4gICAgbGV0IHN0YXRlID0gaW5pdGlhbFN0YXRlKGVsZSk7XG5cbiAgICBpbml0KCk7XG5cbiAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgIGxldCBuZXdFbGUgPSBudWxsO1xuICAgICAgICBzd2l0Y2ggKHN0YXRlLnN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSAnbG9hZGluZyc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdsb2FkZWQnOlxuICAgICAgICAgICAgICAgIG5ld0VsZSA9IGxpc3RWaWV3KHN0YXRlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3VuYXV0aG9yaXplZCc6XG4gICAgICAgICAgICAgICAgbmV3RWxlID0gbm90TG9nZ2VkSW5WaWV3KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdlcnJvcmVkJzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgbmV3RWxlID0gZXJyb3JWaWV3KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld0VsZSkge1xuICAgICAgICAgICAgZWxlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKG5ld0VsZSwgZWxlKTtcbiAgICAgICAgICAgIGVsZSA9IG5ld0VsZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICBmZXRjaChgJHtzdGF0ZS5yZXNvdXJjZU1vdW50UGF0aH0vc2F2ZWQtc2VhcmNoZXNgLCB7XG4gICAgICAgICAgICBjcmVkZW50aWFsczogJ2luY2x1ZGUnLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHVwZGF0ZVN0YXRlRnJvbVJlc3BvbnNlKHN0YXRlLCByZXMpKVxuICAgICAgICAgICAgLnRoZW4obmV3U3RhdGUgPT4ge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgdHJhY2tKc0lmQXZhaWxhYmxlKGVycik7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSwgeyBzdGF0dXM6ICdlcnJvcmVkJyB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbih1cGRhdGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlU3RhdGVGcm9tUmVzcG9uc2Uob2xkU3RhdGUsIHJlc3BvbnNlKSB7XG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCkudGhlbihlID0+XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBvbGRTdGF0ZSwge1xuICAgICAgICAgICAgICAgIGl0ZW1zOiBlLnNhdmVkU2VhcmNoZXMuc2VhcmNoZXMsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAnbG9hZGVkJyxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgb2xkU3RhdGUsIHsgc3RhdHVzOiAndW5hdXRob3JpemVkJyB9KVxuICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyB0b2RvOiB0aGlzIGlzIHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCB0aHJvdywgc2luY2UgdHJhY2tKc0lmQXZhaWxhYmxlXG4gICAgICAgICAgICAvLyB3aWxsIHJldGhyb3cgd2hlbiB0cmFja2pzIGlzIG5vdCBhdmFpbGFibGUuIFRoaXMgd2lsbCBiZSBsb29rZWQgYXRcbiAgICAgICAgICAgIC8vIG1vcmUgcHJvcGVybHkgd2hlbiBhZGRpbmcgdHJhY2tqcyB3cmFwcGVyIHRvIGFuYWx5dGljcy4gU2VlXG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5zY2hpYnN0ZWQuaW8vZmlubi9maW5uLWFuYWx5dGljcy1qcy9pc3N1ZXMvMTJcbiAgICAgICAgICAgIHRyYWNrSnNJZkF2YWlsYWJsZShcbiAgICAgICAgICAgICAgICBuZXcgRXJyb3IoYENvdWxkbid0IGhhbmRsZSByZXNwb25zZSBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIC8vIG5vdGhpbmdcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgb2xkU3RhdGUsIHsgc3RhdHVzOiAnZXJyb3JlZCcgfSlcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGxpc3RWaWV3KHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLml0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZWwoXG4gICAgICAgICAgICAncCcsXG4gICAgICAgICAgICB7IHRhYmluZGV4OiAnLTEnIH0sXG4gICAgICAgICAgICAnSHZpcyBkdSBsYWdyZXIgc8O4ayB2aWwgZGUgZHVra2Ugb3BwIGhlci4nXG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGVsKFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZWwoXG4gICAgICAgICAgICAgICAgJ29sJyxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHN0YXRlLml0ZW1zLnNsaWNlKDAsIHN0YXRlLm1heEl0ZW1zVG9TaG93KS5tYXAobGlzdEl0ZW0pXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgZWwoXG4gICAgICAgICAgICAgICAgJ2Rpdi5yaWdodGlmeScsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBlbChcbiAgICAgICAgICAgICAgICAgICAgJ2EucGFtLnItcGhsJyxcbiAgICAgICAgICAgICAgICAgICAgeyBocmVmOiAnL3VzZXIvc2F2ZWRzZWFyY2hlcy5odG1sJyB9LFxuICAgICAgICAgICAgICAgICAgICAnQWxsZSBsYWdyZWRlIHPDuGsnXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdHJhY2tJdGVtQ2xpY2soKSB7XG4gICAgdHJhY2tpbmcudHJhY2tFdmVudExhdGVyKHtcbiAgICAgICAgYW5hbHl0aWNzTmFtZTogJ3NlYXJjaC5yZXBlYXQtc2F2ZWQtc2VhcmNoLmNsaWNrJyxcbiAgICAgICAgZWNUeXBlOiAnU0VBUkNIJyxcbiAgICAgICAgZWNDYXRlZ29yeTogJ0Zyb250cGFnZVNhdmVkU2VhcmNoZXNDbGljaycsXG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGxpc3RJdGVtKHsgdGl0bGUsIHVybCB9KSB7XG4gICAgcmV0dXJuIGVsKFxuICAgICAgICAnbGknLFxuICAgICAgICBudWxsLFxuICAgICAgICBlbChcbiAgICAgICAgICAgICdhLnRydW5jYXRlLmJsb2NraWZ5LnB2cycsXG4gICAgICAgICAgICB7IGhyZWY6IHVybCwgb25jbGljazogdHJhY2tJdGVtQ2xpY2sgfSxcbiAgICAgICAgICAgIHRpdGxlXG4gICAgICAgIClcbiAgICApO1xufVxuXG5mdW5jdGlvbiBub3RMb2dnZWRJblZpZXcoKSB7XG4gICAgcmV0dXJuIGVsKFxuICAgICAgICAncCcsXG4gICAgICAgIG51bGwsXG4gICAgICAgICdIdmlzIGR1IGxvZ2dlciBpbm4gdmlsIGRpbmUgbGFncmVkZSBzw7hrIGR1a2tlIG9wcCBoZXInXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gZXJyb3JWaWV3KCkge1xuICAgIHJldHVybiBlbChcbiAgICAgICAgJ3AnLFxuICAgICAgICBudWxsLFxuICAgICAgICAnRm9yIMO4eWVibGlra2V0IGtsYXJ0ZSB2aSBpa2tlIMOlIGhlbnRlIGRpbmUgbGFncmVkZSBzw7hrJ1xuICAgICk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2F2ZWRTZWFyY2hlc0JveDtcbi8vIHZpc2libGUgZm9yIHRlc3Rpbmc6XG5tb2R1bGUuZXhwb3J0cy5pbml0aWFsU3RhdGUgPSBpbml0aWFsU3RhdGU7XG5tb2R1bGUuZXhwb3J0cy51cGRhdGVTdGF0ZUZyb21SZXNwb25zZSA9IHVwZGF0ZVN0YXRlRnJvbVJlc3BvbnNlO1xuIl19","deps":{"@finn-no/create-element":"763e82e214e1d0d167e05fa0d8e4eb878f45f1fcfc22ca65d5990ceaf4eed61a","@finn-no/analytics":"1892a34e5d6b4ed6f915a394a6edd0a10cae9cfcc462d96105af4532898b7521"},"file":"/home/node/src/routes/podlet-user-searches/lib/client/saved-searches.js","index":7,"indexDeps":{"@finn-no/create-element":3,"@finn-no/analytics":1}}
]
